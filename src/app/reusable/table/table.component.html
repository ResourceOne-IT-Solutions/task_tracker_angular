<div class="spinner-div">
  <ngx-spinner
    bdColor="rgba(0,0,0,0.32)"
    size="large"
    color="#8652d5"
    type="ball-clip-rotate-multiple"
    [fullScreen]="false"
  >
  </ngx-spinner>
  <div class="scrollable-table">
    <table
      mat-table
      [dataSource]="dataSource"
      class="mat-elevation-z8"
      *ngIf="dataSource"
    >
      <ng-container
        *ngFor="let disCol of tableColumns; let colIndex = index"
        matColumnDef="{{ disCol.columnDef }}"
      >
        <th mat-header-cell *matHeaderCellDef>
          <span *ngIf="disCol.columnDef !== 'TicketRaised'">
            {{ disCol.header | titlecase }}
          </span>
          <span *ngIf="disCol.columnDef == 'TicketRaised'">
            <button
              (click)="btn3Click(disCol.columnDef)"
              mat-raised-button
              color="accent"
            >
              {{ disCol.header }}
            </button>
          </span>
        </th>
        <td mat-cell *matCellDef="let element">
          <span (click)="clientNameClick(element)" *ngIf="disCol.isText">
            {{ disCol.cell(element) }}
          </span>
          <div>
            <span
              matTooltip=" click here to client page"
              aria-label="Displays a tooltip"
              style="cursor: pointer"
              (click)="clientNameClick(element)"
              *ngIf="disCol.isMouseOver"
            >
              {{ disCol.cell(element) }}
            </span>
          </div>
          <p>
            <a
              href="javascript:void(0)"
              (click)="Description(element)"
              *ngIf="disCol.isLink"
              >Client Description</a
            >
          </p>
          <span *ngIf="disCol.isMultiButton">
            <button
              mat-raised-button
              color="primary"
              (click)="btn1Click(element)"
            >
              {{ disCol.cell("btn1") }}
            </button>
            <button mat-raised-button color="warn" (click)="btn2Click(element)">
              {{ disCol.cell("btn2") }}
            </button>
          </span>
          <span *ngIf="disCol.isButton">
            <button
              mat-raised-button
              color="primary"
              [disabled]="disCol.cell(element) === 'Closed'"
              (click)="onClick(element, disCol.cell(element))"
            >
              {{ disCol.cell(element) }}
            </button>
          </span>
          <p
            class="d-flex"
            *ngIf="disCol.isImage"
            (click)="openUserDetails(element)"
          >
            <img
              *ngIf="disCol.cell(element)"
              src="{{ disCol.cell(element) }}"
              class="profileImage"
            />
            <img
              *ngIf="!disCol.cell(element)"
              src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQvEqncZEwNmacOsxcOyUMD7z2JiZF4-Z6PVRBu2KZnlxcFU5SZipi_yd4aV0kzwJL17BI&usqp=CAU"
              class="profileImage"
            />
            <span [ngClass]="element.isActive ? 'online' : 'offline'"></span>
          </p>
        </td>
      </ng-container>
      <tr class="mat-row no-data" *matNoDataRow>
        <td class="mat-cell p-3" [attr.colspan]="displayedColumns.length">
          No data matching the filter.
        </td>
      </tr>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>

      <tr
        class="columns"
        mat-row
        *matRowDef="let row; columns: displayedColumns"
      ></tr>
    </table>
    <mat-paginator
      *ngIf="dataSource"
      [hidden]="!dataSource.data.length"
      [pageSizeOptions]="[5, 10, 25, 100]"
      [pageSize]="5"
    ></mat-paginator>
  </div>
</div>
